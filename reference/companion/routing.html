
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Routing Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="mavproxy.html" />
    
    
    <link rel="prev" href="camera.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../introduction/features.html">
            
                <a href="../../introduction/features.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../introduction/applications.html">
            
                <a href="../../introduction/applications.html">
            
                    
                    Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../introduction/hardware-options.html">
            
                <a href="../../introduction/hardware-options.html">
            
                    
                    Hardware Options
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../introduction/hardware-options/connection-diagrams.html">
            
                <a href="../../introduction/hardware-options/connection-diagrams.html">
            
                    
                    Connection Diagrams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../introduction/hardware-options/required-hardware.html">
            
                <a href="../../introduction/hardware-options/required-hardware.html">
            
                    
                    Required Hardware
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../introduction/hardware-options/required-hardware/autopilot.html">
            
                <a href="../../introduction/hardware-options/required-hardware/autopilot.html">
            
                    
                    Autopilot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../introduction/hardware-options/required-hardware/companion-computer.html">
            
                <a href="../../introduction/hardware-options/required-hardware/companion-computer.html">
            
                    
                    Companion Computer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../introduction/hardware-options/required-hardware/camera.html">
            
                <a href="../../introduction/hardware-options/required-hardware/camera.html">
            
                    
                    Camera
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../introduction/hardware-options/required-hardware/escs.html">
            
                <a href="../../introduction/hardware-options/required-hardware/escs.html">
            
                    
                    Electronic Speed Controls (ESCs)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../../introduction/hardware-options/required-hardware/thrusters.html">
            
                <a href="../../introduction/hardware-options/required-hardware/thrusters.html">
            
                    
                    Thrusters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../../introduction/hardware-options/required-hardware/power-sensing-module.html">
            
                <a href="../../introduction/hardware-options/required-hardware/power-sensing-module.html">
            
                    
                    Power Sensing Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="../../introduction/hardware-options/required-hardware/power-supply.html">
            
                <a href="../../introduction/hardware-options/required-hardware/power-supply.html">
            
                    
                    Power Supply
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.8" data-path="../../introduction/hardware-options/required-hardware/tether.html">
            
                <a href="../../introduction/hardware-options/required-hardware/tether.html">
            
                    
                    Tether
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.9" data-path="../../introduction/hardware-options/required-hardware/topside-computer.html">
            
                <a href="../../introduction/hardware-options/required-hardware/topside-computer.html">
            
                    
                    Topside Computer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.10" data-path="../../introduction/hardware-options/required-hardware/joystick.html">
            
                <a href="../../introduction/hardware-options/required-hardware/joystick.html">
            
                    
                    Joystick
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../introduction/hardware-options/recommended-extras.html">
            
                <a href="../../introduction/hardware-options/recommended-extras.html">
            
                    
                    Recommended Extras
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../../introduction/hardware-options/recommended-extras/pressure-sensor.html">
            
                <a href="../../introduction/hardware-options/recommended-extras/pressure-sensor.html">
            
                    
                    Pressure Sensor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../../introduction/hardware-options/recommended-extras/camera-gimbal.html">
            
                <a href="../../introduction/hardware-options/recommended-extras/camera-gimbal.html">
            
                    
                    Camera Tilt Mount
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../../introduction/hardware-options/recommended-extras/lights.html">
            
                <a href="../../introduction/hardware-options/recommended-extras/lights.html">
            
                    
                    Lights
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../introduction/hardware-options/additional-peripheral-devices.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices.html">
            
                    
                    Additional Peripheral Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../../introduction/hardware-options/additional-peripheral-devices/leak-sensor.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices/leak-sensor.html">
            
                    
                    Leak Sensors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.2" data-path="../../introduction/hardware-options/additional-peripheral-devices/temperature-sensor.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices/temperature-sensor.html">
            
                    
                    Temperature Sensor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.3" data-path="../../introduction/hardware-options/additional-peripheral-devices/servos.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices/servos.html">
            
                    
                    Servos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.4" data-path="../../introduction/hardware-options/additional-peripheral-devices/relays.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices/relays.html">
            
                    
                    Relays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.5" data-path="../../introduction/hardware-options/additional-peripheral-devices/grippers-and-manipulators.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices/grippers-and-manipulators.html">
            
                    
                    Grippers and Manipulators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.6" data-path="../../introduction/hardware-options/additional-peripheral-devices/underwater-positioning.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices/underwater-positioning.html">
            
                    
                    Underwater Positioning and GPS (SBL and USBL)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4.7" data-path="../../introduction/hardware-options/additional-peripheral-devices/sonars.html">
            
                <a href="../../introduction/hardware-options/additional-peripheral-devices/sonars.html">
            
                    
                    Sonars
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../introduction/required-software.html">
            
                <a href="../../introduction/required-software.html">
            
                    
                    Required Software
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../introduction/required-software/ardusub-autopilot-firmware.html">
            
                <a href="../../introduction/required-software/ardusub-autopilot-firmware.html">
            
                    
                    ArduSub Autopilot Firmware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../introduction/required-software/companion-computer-software.html">
            
                <a href="../../introduction/required-software/companion-computer-software.html">
            
                    
                    Companion Computer Software
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../introduction/required-software/qgroundcontrol-software.html">
            
                <a href="../../introduction/required-software/qgroundcontrol-software.html">
            
                    
                    QGroundControl Software
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Quick Start</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../quick-start/vehicle-frame.html">
            
                <a href="../../quick-start/vehicle-frame.html">
            
                    
                    Building a Vehicle Frame
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../quick-start/installing-qgc.html">
            
                <a href="../../quick-start/installing-qgc.html">
            
                    
                    Installing QGroundControl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../quick-start/installing-companion.html">
            
                <a href="../../quick-start/installing-companion.html">
            
                    
                    Installing Companion Software Image
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../../quick-start/installing-companion.html">
            
                <a href="../../quick-start/installing-companion.html#network-setup">
            
                    
                    Network Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../../quick-start/installing-companion.html">
            
                <a href="../../quick-start/installing-companion.html#software-update">
            
                    
                    Software Update
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../quick-start/installing-ardusub.html">
            
                <a href="../../quick-start/installing-ardusub.html">
            
                    
                    Installing Autopilot Firmware
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../../quick-start/installing-ardusub.html">
            
                <a href="../../quick-start/installing-ardusub.html#frame-selection">
            
                    
                    Frame Selection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../../quick-start/installing-ardusub.html">
            
                <a href="../../quick-start/installing-ardusub.html#completing-calibrations">
            
                    
                    Completing Calibrations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../../quick-start/installing-ardusub.html">
            
                <a href="../../quick-start/installing-ardusub.html#sd-card-formatting">
            
                    
                    Formatting the SD Card
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../quick-start/first-dive.html">
            
                <a href="../../quick-start/first-dive.html">
            
                    
                    First Dive
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Reference Documentation</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../qgc-configuration.html">
            
                <a href="../qgc-configuration.html">
            
                    
                    QGroundControl
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../qgroundcontrol/main-toolbar.html">
            
                <a href="../qgroundcontrol/main-toolbar.html">
            
                    
                    Main Toolbar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../qgroundcontrol/application-settings-view.html">
            
                <a href="../qgroundcontrol/application-settings-view.html">
            
                    
                    Application Settings View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../qgroundcontrol/vehicle-setup-view.html">
            
                <a href="../qgroundcontrol/vehicle-setup-view.html">
            
                    
                    Vehicle Setup View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="../qgroundcontrol/plan-view.html">
            
                <a href="../qgroundcontrol/plan-view.html">
            
                    
                    Plan View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="../qgroundcontrol/fly-view.html">
            
                <a href="../qgroundcontrol/fly-view.html">
            
                    
                    Fly View
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.5.1" data-path="../qgroundcontrol/fly-view.html">
            
                <a href="../qgroundcontrol/fly-view.html#video-stream">
            
                    
                    Recoding Video
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="../qgroundcontrol/analyze-view.html">
            
                <a href="../qgroundcontrol/analyze-view.html">
            
                    
                    Analyze View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="../qgroundcontrol/other-features.html">
            
                <a href="../qgroundcontrol/other-features.html">
            
                    
                    Other Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.7.1" data-path="../qgroundcontrol/other-features.html">
            
                <a href="../qgroundcontrol/other-features.html#video-overlay">
            
                    
                    Telemetry Text Overlay Recording
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../ardusub-configuration.html">
            
                <a href="../ardusub-configuration.html">
            
                    
                    ArduSub
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../qgroundcontrol/vehicle-setup-view.html">
            
                <a href="../qgroundcontrol/vehicle-setup-view.html">
            
                    
                    Vehicle Setup View
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1.1" data-path="../ardusub/summary-page.html">
            
                <a href="../ardusub/summary-page.html">
            
                    
                    Summary Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.2" data-path="../ardusub/joystick-setup-page.html">
            
                <a href="../ardusub/joystick-setup-page.html">
            
                    
                    Joystick Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.3" data-path="../ardusub/sensors-setup-page.html">
            
                <a href="../ardusub/sensors-setup-page.html">
            
                    
                    Sensors Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.4" data-path="../ardusub/power-setup-page.html">
            
                <a href="../ardusub/power-setup-page.html">
            
                    
                    Power Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.5" data-path="../ardusub/motors-setup-page.html">
            
                <a href="../ardusub/motors-setup-page.html">
            
                    
                    Motors Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.6" data-path="../ardusub/safety-setup-page.html">
            
                <a href="../ardusub/safety-setup-page.html">
            
                    
                    Safety Setup Page (Failsafes)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.7" data-path="../ardusub/tuning-setup-page.html">
            
                <a href="../ardusub/tuning-setup-page.html">
            
                    
                    Tuning Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.8" data-path="../ardusub/camera-mount-setup-page.html">
            
                <a href="../ardusub/camera-mount-setup-page.html">
            
                    
                    Camera Mount Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.9" data-path="../ardusub/lights-setup-page.html">
            
                <a href="../ardusub/lights-setup-page.html">
            
                    
                    Lights Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.10" data-path="../ardusub/frame-setup-page.html">
            
                <a href="../ardusub/frame-setup-page.html">
            
                    
                    Frame Setup Page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.1.11" data-path="../ardusub/parameters-page.html">
            
                <a href="../ardusub/parameters-page.html">
            
                    
                    Parameters Page
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../ardusub/features-while-in-operation.html">
            
                <a href="../ardusub/features-while-in-operation.html">
            
                    
                    Features While in Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../companion-web-ui.html">
            
                <a href="../companion-web-ui.html">
            
                    
                    Companion Web Interface
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="network.html">
            
                <a href="network.html">
            
                    
                    Network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="system.html">
            
                <a href="system.html">
            
                    
                    System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="camera.html">
            
                <a href="camera.html">
            
                    
                    Camera
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.3.4" data-path="routing.html">
            
                <a href="routing.html">
            
                    
                    Routing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="mavproxy.html">
            
                <a href="mavproxy.html">
            
                    
                    MAVProxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.6" data-path="git.html">
            
                <a href="git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.7" data-path="waterlinked.html">
            
                <a href="waterlinked.html">
            
                    
                    Water Linked
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.8" data-path="terminal-over-browser.html">
            
                <a href="terminal-over-browser.html">
            
                    
                    Terminal Over Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.9" data-path="file-system.html">
            
                <a href="file-system.html">
            
                    
                    File System Access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.10" data-path="mavlink-rest.html">
            
                <a href="mavlink-rest.html">
            
                    
                    MAVLink REST API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../data-logging.html">
            
                <a href="../data-logging.html">
            
                    
                    Data Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../troubleshooting.html">
            
                <a href="../troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.5.1" data-path="../troubleshooting.html">
            
                <span>
            
                    
                    Vehicle Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.2" data-path="../troubleshooting.html">
            
                <span>
            
                    
                    No Telemetry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.3" data-path="../troubleshooting.html">
            
                <span>
            
                    
                    No Video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.4" data-path="../troubleshooting.html">
            
                <span>
            
                    
                    Poor Video Streaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.5" data-path="../troubleshooting.html">
            
                <span>
            
                    
                    Miscellaneous
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Developers</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../developers/rc-input-and-output.html">
            
                <a href="../../developers/rc-input-and-output.html">
            
                    
                    RC Input and Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../developers/full-parameter-list.html">
            
                <a href="../../developers/full-parameter-list.html">
            
                    
                    Full Parameter List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../../developers/software-components.html">
            
                <a href="../../developers/software-components.html">
            
                    
                    Software Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../../developers/opencv.html">
            
                <a href="../../developers/opencv.html">
            
                    
                    OpenCV
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../../developers/pymavlink.html">
            
                <a href="../../developers/pymavlink.html">
            
                    
                    Pymavlink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../../developers/sitl.html">
            
                <a href="../../developers/sitl.html">
            
                    
                    SITL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../../developers/gps-positioning.html">
            
                <a href="../../developers/gps-positioning.html">
            
                    
                    GPS Positioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="../../developers/dvl-integration.html">
            
                <a href="../../developers/dvl-integration.html">
            
                    
                    DVL Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="../../developers/wireless-topside.html">
            
                <a href="../../developers/wireless-topside.html">
            
                    
                    Wireless Topside
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="../../developers/developers.html">
            
                <a href="../../developers/developers.html">
            
                    
                    Build ArduSub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="../../developers/building-docs.html">
            
                <a href="../../developers/building-docs.html">
            
                    
                    Build this Documentation
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Resources</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../resources/community.html">
            
                <a href="../../resources/community.html">
            
                    
                    Community
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../../resources/downloads.html">
            
                <a href="../../resources/downloads.html">
            
                    
                    Downloads
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="../../resources/downloads.html">
            
                <a href="../../resources/downloads.html#qgroundcontrol">
            
                    
                    QGroundControl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.2" data-path="../../resources/downloads.html">
            
                <a href="../../resources/downloads.html#ardusub-firmware-files">
            
                    
                    ArduSub Firmware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.3" data-path="../../resources/downloads.html">
            
                <a href="../../resources/downloads.html#companion-computer-images">
            
                    
                    Raspberry Pi Image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../../resources/further-reading.html">
            
                <a href="../../resources/further-reading.html">
            
                    
                    Further Reading
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Routing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="routing">Routing</h1>
<p>The <a href="http://192.168.2.2:2770/routing" target="_blank">Routing</a> page can be used to route serial communications between serial devices and network ports. It can be used to create one-to-one, and one-to-many connections. The configuration on this page is persistent and loaded at boot. The configuration is stored in the file <code>~/routing.conf</code>.</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-2x fa-edit"></strong>
<p> This program is written in python and is not optimized or well-suited for high-bandwidth applications. The maximum recommended baudrate is 115200. If high bandwidth routing is required, standard linux tools like <code>tty</code>, <code>socat</code> and <code>netcat</code> should be used instead.</p>
</blockquote>
<p><img src="../../images/companion-routing/routing-setup.png" class="img-responsive img-center" style="max-width:750px"></p>
<p>To use the companion routing tool:</p>
<ul>
<li>create one or more endpoints with your desired configuration</li>
<li>add connections between the endpoints as you want</li>
<li>remove connections by clicking the &apos;broken link&apos; button next to the configuration</li>
<li>remove endpoints by clicking the &apos;trash can&apos; button next to the configuration</li>
</ul>
<p><img src="../../images/companion-routing/configuration.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="endpoints">Endpoints</h3>
<p>An endpoint can be a serial port or a network port. Create an endpoint by entering the desired port settings, and click &apos;create link&apos;.</p>
<p><strong>Serial Endpoints</strong></p>
<p>Select one of the available serial ports from the drop down list, and choose the baudrate to use. The serial port must not be in use by another program! Click &apos;Add Serial Endpoint&apos; to create the communication endpoint.</p>
<p><img src="../../images/companion-routing/serial-endpoint.png" class="img-responsive img-center" style="max-width:750px"></p>
<p><strong>UDP Endpoints</strong></p>
<p>Enter the ip address and UDP port to use. If the ip address is &apos;0.0.0.0&apos;, it will bind the local port as a server. All other ip addresses will result in a client connection. Click &apos;Add UDP Endpoint&apos; to create the communication endpoint.</p>
<p><img src="../../images/companion-routing/udp-endpoint.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="routes">Routes</h3>
<p>Endpoints can be connected bidirectionally (typical), or with a one way connection. To begin routing communications between endpoints, choose the endpoints that you wish to connect, the direction to route communications, and click &apos;connect&apos;.</p>
<p><img src="../../images/companion-routing/create-routes.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="example-configurations">Example configurations</h3>
<h4 id="topside-as-udp-server">Topside as UDP Server</h4>
<p>To bridge serial communications between a device connected to the companion computer inside the ROV, and the existing network connection to the topside computer:</p>
<ol>
<li>Create a serial endpoint corresponding to the attached serial device and the desired serial baudrate</li>
<li>Create a UDP endpoint using the topside computer IP address <strong>192.168.2.1</strong>, and the port that the topside application will bind.</li>
<li>Connect them bidirectionally</li>
<li>The application on the topside computer should bind the UDP port as a server</li>
</ol>
<p>To test the connection on a linux machine, bind to the port with &quot;netcat&quot; on the topside computer: <code>nc -ulp &lt;port&gt;</code></p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-2x fa-edit"></strong>
<p> Topside as UDP Server mode is not recommended for master-slave setups. For the connection to be properly stabilished, the serial device must send some data. Only then the connection is stabilished and the topside is able to send data to the companion.</p>
</blockquote>
<p>This python script exemplifies how to run an UDP server with Python:</p>
<pre><code class="lang-Python"><span class="hljs-string">&quot;&quot;&quot;
Companion routing UDP server example.

This script Binds to an UDP port and receives data from the Companion at
a given port.
You should run this at your topside computer.
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> socket

UDP_IP = <span class="hljs-string">&quot;192.168.2.1&quot;</span> <span class="hljs-comment"># Topside (local) IP</span>
UDP_PORT = <span class="hljs-number">5555</span>        <span class="hljs-comment"># Topside (local) port to listen on</span>

sock = socket.socket(socket.AF_INET, <span class="hljs-comment"># Internet</span>
                    socket.SOCK_DGRAM) <span class="hljs-comment"># UDP</span>
sock.bind((UDP_IP, UDP_PORT))

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    data, addr = sock.recvfrom(<span class="hljs-number">1024</span>) <span class="hljs-comment"># Buffer size is 1024 bytes</span>
    print(data.decode())
</code></pre>
<h4 id="companion-as-udp-server">Companion as UDP Server</h4>
<ol>
<li>Create a serial endpoint corresponding to the attached serial device and the desired serial baudrate</li>
<li>Create a UDP endpoint using the <strong>0.0.0.0</strong> IP address, and the port that the server will bind to.</li>
<li>Connect them bidirectionally</li>
<li>The application on the topside computer should connect to <strong>192.168.2.2</strong> at the port chosen in step two</li>
</ol>
<p>To test the connection on a linux machine, bind to the port with &quot;netcat&quot; on the topside computer: <code>nc -u 192.168.2.2 &lt;port&gt;</code></p>
<p>This Python example shows how to communicate using these UDP ports:</p>
<pre><code class="lang-Python"><span class="hljs-string">&quot;&quot;&quot;
Companion routing UDP client example.

This script connects to a endpoint at the Companion exposed using the IP 0.0.0.0
and a given port. It then sends some data so the server knows it has a client
and starts relaying the serial data back at it.
You should run this at your topside computer.
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> socket
<span class="hljs-keyword">import</span> time

UDP_IP = <span class="hljs-string">&quot;192.168.2.2&quot;</span> <span class="hljs-comment"># Remote (Companion&apos;s) IP to connect to</span>
UDP_PORT = <span class="hljs-number">5555</span>        <span class="hljs-comment"># Remote (Companion&apos;s) port to connect to</span>
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># Send something so the server knows where to reply to</span>
    sent = sock.sendto(<span class="hljs-string">b&quot;hello&quot;</span>, (UDP_IP, UDP_PORT))
    <span class="hljs-comment"># Loop receiving data</span>
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        data, server = sock.recvfrom(<span class="hljs-number">4096</span>)
        print(data.decode())
        time.sleep(<span class="hljs-number">0.01</span>)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    print(e)
<span class="hljs-keyword">finally</span>:
    sock.close()
</code></pre>
<!--
To create a fake serial device `/dev/ttyVirt` under linux, do `socat PTY,link=/dev/ttyS0,group=uucp,perm=0660,ignoreeof UDP-LISTEN:5000`
You can then use it with applications, try `screen /dev/ttyVirt` for example.

Note: This is not enough! some applications, such as Arduino, do not find this port, and screen fails to release it when detaching.
!-->

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="camera.html" class="navigation navigation-prev " aria-label="Previous page: Camera">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="mavproxy.html" class="navigation navigation-next " aria-label="Next page: MAVProxy">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Routing","level":"3.3.4","depth":2,"next":{"title":"MAVProxy","level":"3.3.5","depth":2,"path":"reference/companion/mavproxy.md","ref":"reference/companion/mavproxy.md","articles":[]},"previous":{"title":"Camera","level":"3.3.3","depth":2,"path":"reference/companion/camera.md","ref":"reference/companion/camera.md","articles":[]},"dir":"ltr"},"config":{"gitbook":">= 3.2.2","theme":"default","variables":{},"plugins":["youtube","richquotes","page-toc-button","collapsible-menu","custom-favicon","toolbar@git+https://github.com/hamishwillee/gitbook-plugin-toolbar.git","-validate-links","include-codeblock"],"pluginsConfig":{"collapsible-menu":{},"youtube":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{"tip":{"alert":"success","picto":"fa-thumbs-o-up"},"aerial":{"alert":"warning","picto":"fa-plane"},"gps":{"alert":"info","picto":"fa-map-marker"},"version":{"alert":"info","picto":"fa fa-refresh fa-spin fa-3x fa-fw"}},"highlight":{},"favicon":"favicon.ico","page-toc-button":{},"custom-favicon":{},"toolbar":{"buttons":[{"label":"Bug tracker","icon":"fa fa-bug","position":"left","url":"https://github.com/bluerobotics/ardusub-gitbook/issues/new?title=Doc+Bug:+{{title}}&body=DESCRIBE+PROBLEM+WITH+DOCS+HERE%0A%0ABug+Page:+[{{title}}]({{url}})"},{"label":"GitHub","icon":"fa fa-github","url":"https://github.com/Ardupilot/ardupilot"},{"label":"Edit page on github","icon":"fa fa-pencil-square-o","position":"left","url":"https://github.com/bluerobotics/ardusub-gitbook/edit/master/{{filepath_lang}}"}]},"include-codeblock":{"check":false,"edit":false,"fixlang":false,"lang":"","template":"default","theme":"chrome","unindent":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"reference/companion/routing.md","mtime":"2021-08-06T11:58:19.509Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-06T12:00:15.566Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-toolbar/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

